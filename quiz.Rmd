---
title: "Data Visualization Quiz"
author: "Arga Adyatama"
date: "1/15/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

This quiz is part of Algoritma Academy assessment process. Congratulations on completing the Data Visualization course! We will conduct an assessment quiz to test practical data visualization techniques you have learned on the course. The quiz is expected to be taken in the classroom, please contact our team of instructors if you missed the chance to take it in class.

## Inspecting Dataset
 
We will analyze the dataset from **Kiva**, a non-profit organization that allows people to lend money using a P2P(peer-to-peer) model. Read the data from `loan_kiva.csv`. The data has 323,279 observations with 14 variables and consists of a historical detail loan request between 2014 and 2015. 

First, you will need to load the data:

```{r}
# Your code here
```

Please use the following glossary of each column for your reference:
* `id`: Unique ID for the loan (Loan ID)
* `funded_amount`: The amount disbursed by Kiva to the field agent(USD)
* `loan_amount`: The amount disbursed by the field agent to the borrower(USD)
* `activity`: Activity type as a more granular category
* `sector`: High-level category of the loan
* `country`: Full country name of the country in which loan was disbursed
* `region`: Full region name within the country
* `currency`: The currency in which the loan was disbursed
* `partner_id`: ID of the partner organization
* `posted_time`: The time at which the loan is posted on Kiva by the field agent
* `funded_time`: The time at which the loan posted to Kiva gets funded by lenders completely
* `term_in_months`: The duration for which the loan was disbursed in months
* `lender_count`: The total number of lenders that contributed to each loan
* `repayment_interval`: Interval for the repayment of the loan
___

## Analyzing Data Distribution

1. By visualizing the distribution of variable `lender_count`, we can find out which numerical range has the highest frequency of data occurrence. Say we are interested in finding out the range of the highest frequency of `lender_count` for all loans in the United States. You may need to check the distribution of the `lender_count` using a histogram or density chart.

    First, you need to subset all loan posted from the United States:
    ```{r}
    # your code here
    ```
    Then, try to visualize the data distribution of the lender count:
    ```{r}
    # your code here
    ```
    Which range has the highest frequency of `lender_count` in the United States?
   - [ ] 0-100
   - [ ] 100-200
   - [ ] 200-400

## Understanding Data Relationship

Say we are interested in analyzing the loans posted in the Manufacturing sector. We would like to see the relationship or pattern between the loan amount and number of lenders. To do that, we can use a scatter plot.

First, You will need to subset the dataset to acquire all loans from the Manufacturing sector:
```{r}
# your code here
```
Then, we can create the scatterplot to see if there’s any existing pattern between the amount of loan and the number of lenders:
```{r}
# your code here
```
2. How would you describe the relationship between the amount of loan and the number of lenders from all loans within the `Manufacturing` sector?  
   - [ ] The higher the loan amount, the lower the number of lenders
   - [ ] The higher the loan amount, the higher the number of lenders
   - [ ] Loan amount and number of lenderst does not have any apparent relationship

3. Which statement is true based on the scatterplot you have created?

   - [ ] There are some loans that have a relatively large amount of loan with a small number of lenders
   - [ ] There are some loans that have a relatively large number of lenders with a small amount of loan
   - [ ] Most of the loan requests have the loan amount of more than 7,500 USD

## Using Boxplot for Visualizing Data Distribution

A boxplot is a common visualization tool to analyze data distribution and detecting outliers. In R, if you create a plot using a categorical variable as one axis, and numerical variable for the other axis, the default resulting plot is a boxplot. Say you would like to analyze the distribution difference between each sector of variable `term_in_months`, try to create a boxplot using either R base plot or a `ggplot` and answer all the following questions:
```{r}
# your code here
```

4. Which of the following sectors has the most uniformed distribution, identified as the one with the least amount of outliers?
   - [ ] Wholesale
   - [ ] Entertainment
   - [ ] Services
5. Based on the boxplot you have created, which sector has a low-valued outlier for `term_in_months`? 
   - [ ] Education
   - [ ] Services
   - [ ] Health

6. Based on the boxplot you have created, which sector has the highest 3rd Quantile (Q3) value of `term_in_months`? 
   - [ ] Agriculture
   - [ ] Housing
   - [ ] Construction

## Using Line Chart for Trend Analysis

Consider the following case: One of the data analysts in Kiva is tasked to analyze the time duration of a loan from the first time being posted to be fully funded in the Philippines according to each repayment interval types. The analyst then tried to visualize the monthly trend of the average funded time duration in hourly units each month in 2014. Pay attention to the resulting plot of the analyst’s task:

![](Guatemala.PNG)

Now your task is to recreate the previous plot using all loans posted in 2015.
**Hint:**
- First we need to subset the data for the country of **Philippines** and year **2015**.
- Next, We need to transform any date data into date format. 
- We need to create a column that contains the year of the posted time for subsetting.  
- Then, we subset data based on the year 2015 and the country of the Philippines. 
- Since we want to measure the time to fund, we need to create a new column that contains the difference between posted time and funded time. 
- This column will have a data type of time, so we need to convert them to numeric and divide by 60, so the time would be in hourly value. 
- Next, we create the column that contains the month of the posted time for data aggregation. 
- At last, we aggregate the data to find the mean of time to fund based on the repayment interval and the month. 
```{r}
# your code here
```

7. Which statement below is **WRONG** based on the trend line?
   - [ ] The time to fund reached the longest time in October for Irregular repayment interval
   - [ ] The time to fund reached the longest time in June for Bullet repayment interval
   - [ ] For Irregular repayment, the time to fund increased from January to April

8. Which repayment interval type performed the best (has the shortest time to fund) from January to April?
   - [ ] Monthly
   - [ ] Bullet
   - [ ] Irregular
 
9. At what month the `Monthly` repayment interval has almost the same time to refund with `Irregular` repayment interval?
   - [ ] June
   - [ ] December
   - [ ] August

